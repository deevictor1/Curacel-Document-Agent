import{j as i,o as t,f as a,b as o,i as g,k as p,l as v,g as d,t as m,c as x,a as f,w as y,u as _,d as w,P as b}from"./app-C3rSk9qy.js";const k={class:"w-full"},S={class:"relative"},$={key:0,class:"mt-4 text-center"},B={key:1,class:"mt-4 text-red-600"},C={__name:"SearchBox",emits:["results"],setup(r){const s=i(""),e=i(!1),l=i(null),u=async()=>{if(s.value.trim()){e.value=!0,l.value=null;try{const n=await fetch(`/api/documents/search?q=${encodeURIComponent(s.value)}`);if(!n.ok)throw new Error("Search failed");const c=await n.json();emit("results",c)}catch{l.value="Failed to search documents. Please try again."}finally{e.value=!1}}};return(n,c)=>(t(),a("div",k,[o("div",S,[g(o("input",{type:"text","onUpdate:modelValue":c[0]||(c[0]=h=>s.value=h),onKeyup:v(u,["enter"]),placeholder:"Search documents... (e.g., 'find budget spreadsheet from last month')",class:"w-full px-4 py-2 border rounded-lg pr-10"},null,544),[[p,s.value]]),o("button",{onClick:u,class:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700"}," Search ")]),e.value?(t(),a("div",$," Searching documents... ")):d("",!0),l.value?(t(),a("div",B,m(l.value),1)):d("",!0)]))}},N={class:"py-12"},V={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},D={class:"bg-white overflow-hidden shadow-sm sm:rounded-lg p-6"},j={key:0,class:"mb-4 text-sm text-green-600"},P={key:2,class:"text-center"},E={__name:"Index",props:{success:String,googleDrive:Object},setup(r){return(s,e)=>(t(),a("div",N,[o("div",V,[o("div",D,[r.success?(t(),a("div",j,m(r.success),1)):d("",!0),r.googleDrive?(t(),x(C,{key:1})):(t(),a("div",P,[e[1]||(e[1]=o("p",{class:"text-gray-600 mb-4"}," No Google Workspace connected yet. ",-1)),f(_(b),{href:s.route("google.login"),class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700"},{default:y(()=>e[0]||(e[0]=[w(" Connect Google Workspace ")])),_:1},8,["href"])]))])])]))}};export{E as default};
